<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="team1.mini2.dz3.model.FaqBoardDAO">


	<!-- 글 가져오기 -->
	<select id="getBoardList" parameterType="hashmap"
		resultType="team1.mini2.dz3.model.FaqBoardDTO">
		select * from
	 		(select A.*,ROWNUM r from 
	 		 	(select * from faqboard order by NOTICE_NO desc) A
	 	 	)
 	 	where r >= #{start} and r &lt;= #{end}
	</select>

	<!-- 글 하나 가져오기 -->
	<select id="getdetail" parameterType="Integer"
		resultType="team1.mini2.dz3.model.FaqBoardDTO">
		select NOTICE_TITLE, notice_content from faqboard where NOTICE_NO = #{notice_no}
	</select>


	<select id="getBoardCount" resultType="Integer">
		select count(*) from faqboard
	</select>
	
	<select id="selectSearchCount" resultType="Integer">
 	
 	select count(*) from
	 		(select A.*,ROWNUM r from 
	 		 	(select * from faqboard  
	 		 	<if test="searchoption != null">
    				where ${searchoption} like '%' || #{keyvalue} || '%'    	
    			</if>
	 		 	order by NOTICE_NO desc) A
	 	 	)
 	 		where r >= #{start} and r &lt;= #{end}
	 </select>
	 
	 <!-- 검색 -->
    <select id="getselectSearch" parameterType="hashMap" resultType="team1.mini2.dz3.model.FaqBoardDTO">
    	
    	
    		select * from
	 		(select A.*,ROWNUM r from 
	 		 	(select * from faqboard  
	 		 	<if test="searchoption != null">
    				where ${searchoption} like '%' || #{keyvalue} || '%'    	
    			</if>
	 		 	order by NOTICE_NO desc) A
	 	 	)
 	 		where r >= #{start} and r &lt;= #{end}
 	 		
 	 		
 	 		
 	 		<!-- SELECT * FROM mybatisBoard
    	where writer like '%김연아%'
    	<if test="column != null">
    		where ${column} like '%' || #{keyvalue} || '%'    	
    	</if> -->

    </select>



</mapper>
